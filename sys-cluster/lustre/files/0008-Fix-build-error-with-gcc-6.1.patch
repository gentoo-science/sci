From 476bd7023e01ab844bcdb81ca2f43e3a07f91b3d Mon Sep 17 00:00:00 2001
From: Alexey Shvetsov <alexxy@gentoo.org>
Date: Mon, 13 Jun 2016 14:22:04 +0300
Subject: [PATCH 8/8] Fix build error with gcc-6.1

Signed-off-by: Alexey Shvetsov <alexxy@gentoo.org>
---
 lustre/utils/liblustreapi_hsm.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/lustre/utils/liblustreapi_hsm.c b/lustre/utils/liblustreapi_hsm.c
index 0b12f37..2f5b95d 100644
--- a/lustre/utils/liblustreapi_hsm.c
+++ b/lustre/utils/liblustreapi_hsm.c
@@ -429,11 +429,12 @@ static int llapi_hsm_log_ct_progress(struct hsm_copyaction_private **phcp,
 			goto err;
 	}
 
-	if (progress_type == CT_RUNNING)
+	if (progress_type == CT_RUNNING) {
 		rc = llapi_json_add_item(&json_items, "current_bytes",
 					 LLAPI_JSON_BIGNUM, &current);
 		if (rc < 0)
 			goto err;
+	}
 
 cancel:
 	rc = llapi_json_add_item(&json_items, "event_type", LLAPI_JSON_STRING,
-- 
2.8.2

